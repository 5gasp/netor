vnfd:
  description: A VNF with 1 VDU able to connect with peers from different domains
  df:
  - id: default-df
    instantiation-level:
    - id: default-instantiation-level
      vdu-level:
      - number-of-instances: 1
        vdu-id: interdomain
    vdu-profile:
    - id: interdomain
      min-number-of-instances: 1
    vnf-configuration-id: default-vnf-configuration
  ext-cpd:
  - id: interdomain-eth0-ext
    int-cpd:
      cpd: interdomain-eth0-int
      vdu-id: interdomain
  - id: interdomain-eth1-ext
    int-cpd:
      cpd: interdomain-eth1-int
      vdu-id: interdomain
  id: interdomain-vnf
  product-name: interdomain-vnf
  mgmt-cp: interdomain-eth0-ext
  sw-image-desc:
  - id: ubuntu18.04
    image: ubuntu18.04
    name: ubuntu18.04
  vdu:
  - cloud-init-file: cloud-init
    id: interdomain
    name: interdomain
    int-cpd:
    - id: interdomain-eth0-int
      virtual-network-interface-requirement:
      - name: eth0
        support-mandatory: true
        virtual-interface:
          type: PARAVIRT
    - id: interdomain-eth1-int
      virtual-network-interface-requirement:
      - name: eth1
        support-mandatory: true
        virtual-interface:
          type: PARAVIRT
    sw-image-desc: ubuntu18.04
    virtual-compute-desc: interdomain-compute
    virtual-storage-desc:
    - interdomain-storage
  version: '1.0'
  virtual-compute-desc:
  - id: interdomain-compute
    virtual-cpu:
      num-virtual-cpu: 1
    virtual-memory:
      size: 1.0
  virtual-storage-desc:
  - id: interdomain-storage
    size-of-storage: 10
  vnf-configuration:
    # config-access:
    #   ssh-access:
    #     default-user: ubuntu
    #     required: true
  - config-primitive:
    - name: touch
      parameter:
      - data-type: STRING
        default-value: /home/ubuntu/touched
        name: filename
    - name: addpeer
      parameter:
      - data-type: STRING
        name: peer_endpoint
      - data-type: STRING
        name: peer_key
      - data-type: STRING
        name: peer_network
    - name: sendvnfinfo
      parameter:
      - data-type: STRING
        default-value: "10.0.12.118:5555/vnf"
        name: vsEndpoint
    - name: modifytunnel
      parameter:
      - data-type: STRING
        default-value: "100"
        name: bandwidth
    initial-config-primitive:
    - seq: 1
      name: config
      parameter:
      - name: ssh-hostname
        value: <rw_mgmt_ip>
      - name: ssh-username
        value: ubuntu
      - name: ssh-password
        value: ubuntu
      - name: tunnel_address
        value: <tunnel_address>
      - name: tunnel_id
        value: <tunnel_id>
      - name: vsi_id
        value: <vsi_id>
    # - seq: 2
    #   name: touch
    #   parameter:
    #   - data-type: STRING
    #     name: filename  
    #     value: /home/ubuntu/first-touch
    - seq: 2
      name: sendvnfinfo
      parameter:
      - data-type: STRING
        name: vsEndpoint  
        value: "10.0.12.118:5555/vnf"
    id: default-vnf-configuration
    juju:
      charm: interdomainvdu